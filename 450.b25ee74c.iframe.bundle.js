(self.webpackChunkcocokits=self.webpackChunkcocokits||[]).push([[450],{"./packages/angular/overlay/src/components/overlay/overlay.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>OverlayComponent});var asyncToGenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.25.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs");var overlay_componentngResource=__webpack_require__("./packages/angular/overlay/src/components/overlay/overlay.component.scss?ngResource"),overlay_componentngResource_default=__webpack_require__.n(overlay_componentngResource),core=__webpack_require__("./node_modules/.pnpm/@angular+core@18.2.0_rxjs@7.8.1_zone.js@0.14.10/node_modules/@angular/core/fesm2022/core.mjs"),EmptyError=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/EmptyError.js"),Subscriber=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscriber.js");var src=__webpack_require__("./packages/common/utils/src/index.ts"),animations=__webpack_require__("./node_modules/.pnpm/@angular+animations@18.2.0_@angular+core@18.2.0_rxjs@7.8.1_zone.js@0.14.10_/node_modules/@angular/animations/fesm2022/animations.mjs");const overlayAnimation={backdrop:function backdrop(){return(0,animations.hZ)("overlayAnimBackdrop",[(0,animations.wk)("*",(0,animations.iF)({opacity:"1"}))])},content:function content(){return(0,animations.hZ)("overlayAnimContent",[])},overlay:function overlay(){return(0,animations.hZ)("overlayAnim",[(0,animations.kY)(":enter",[(0,animations.Os)([(0,animations.P)("@overlayAnimBackdrop",[(0,animations.iF)({opacity:0}),(0,animations.i0)("100ms",(0,animations.iF)({opacity:"*"}))],{optional:!0})])],{params:{transformStart:"translateY(30%) rotateX(-5deg)",transformEnd:"translateY(0) rotateX(0)"}}),(0,animations.kY)(":leave",[(0,animations.Os)([(0,animations.P)("@overlayAnimBackdrop",[(0,animations.iF)({opacity:"*"}),(0,animations.i0)("100ms",(0,animations.iF)({opacity:0}))],{optional:!0}),(0,animations.P)("@overlayAnimContent",[(0,animations.iF)({opacity:1,transform:"{{transformEnd}}"}),(0,animations.i0)("200ms",(0,animations.iF)({opacity:0,transform:"{{transformStart}}"}))],{optional:!0})])],{params:{transformStart:"translateY(30%) rotateX(-5deg)",transformEnd:"translateY(0) rotateX(0)"}})])}};var overlay_config_model=__webpack_require__("./packages/angular/overlay/src/models/overlay-config.model.ts");function getAnimationEnd(contentWrapper,overlayConfig){const{translateX,translateY,rotateX,rotateY,scale}="connectToElement"===overlayConfig.positionStrategy.type?function getConnectedToElemAnimationEnd(wrapperElem,connectToElem,origin){const{x,y}=getConnectedToElemAnimationTransform(wrapperElem,connectToElem,origin);return{translateX:`${x}px`,translateY:`${y}px`,rotateX:0,rotateY:0,scale:1}}(contentWrapper,overlayConfig.positionStrategy.connectTo,overlayConfig.positionStrategy.origin):{translateX:"0%",translateY:"0%",rotateX:0,rotateY:0,scale:1};return`translateX(${translateX}) translateY(${translateY}) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`}function getAnimationStart(contentWrapper,overlayConfig){const{translateX,translateY,rotateX,rotateY,scale}="connectToElement"===overlayConfig.positionStrategy.type?function getConnectedToElemAnimationStart(wrapperElem,connectToElem,origin){const{x,y}=getConnectedToElemAnimationTransform(wrapperElem,connectToElem,origin);return{translateX:`${x}px`,translateY:`${y}px`,rotateX:0,rotateY:0,scale:0}}(contentWrapper,overlayConfig.positionStrategy.connectTo,overlayConfig.positionStrategy.origin):function getAutoAnimationStart(animationType){switch(animationType){case overlay_config_model.$.TopToCenter:case overlay_config_model.$.ToTopLeft:case overlay_config_model.$.ToTopRight:case overlay_config_model.$.ToTopCenter:return{translateX:"0px",translateY:"-30%",rotateX:10,rotateY:0,scale:1};case overlay_config_model.$.RightToCenter:case overlay_config_model.$.ToRightCenter:return{translateX:"30%",translateY:"0px",rotateX:0,rotateY:10,scale:1};case overlay_config_model.$.BottomToCenter:case overlay_config_model.$.ToBottomLeft:case overlay_config_model.$.ToBottomRight:case overlay_config_model.$.ToBottomCenter:return{translateX:"0px",translateY:"30%",rotateX:-10,rotateY:0,scale:1};case overlay_config_model.$.LeftToCenter:case overlay_config_model.$.ToLeftCenter:return{translateX:"-30%",translateY:"0px",rotateX:0,rotateY:-10,scale:1};default:return{translateX:"0px",translateY:"0px",rotateX:0,rotateY:0,scale:1}}}(overlayConfig.positionStrategy.animationType);return`translateX(${translateX}) translateY(${translateY}) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`}function getConnectedToElemAnimationTransform(wrapperElem,connectToElem,origin){const connectToElemReact=connectToElem.getBoundingClientRect(),wrapperElementRect=wrapperElem.getBoundingClientRect();switch(origin){case overlay_config_model.C.TopLeft:return{x:connectToElemReact.left-wrapperElementRect.left,y:connectToElemReact.top-wrapperElementRect.top-wrapperElementRect.height};case overlay_config_model.C.TopRight:return{x:connectToElemReact.right-wrapperElementRect.right,y:connectToElemReact.top-wrapperElementRect.top-wrapperElementRect.height};case overlay_config_model.C.BottomRight:return{x:connectToElemReact.right-wrapperElementRect.right,y:connectToElemReact.top-wrapperElementRect.top+connectToElemReact.height};case overlay_config_model.C.BottomLeft:return{x:connectToElemReact.left-wrapperElementRect.left,y:connectToElemReact.top-wrapperElementRect.top+connectToElemReact.height};default:return{x:0,y:0}}}function setConnectedToElemAnimationStyle(wrapperElem,origin){const transformOrigin=function getConnectedToElemTransformOrigin(origin){switch(origin){case overlay_config_model.C.TopLeft:return"bottom left";case overlay_config_model.C.TopRight:return"bottom right";case overlay_config_model.C.BottomLeft:return"top left";case overlay_config_model.C.BottomRight:return"top right";default:return""}}(origin);wrapperElem.style.position="absolute",wrapperElem.style.transformOrigin=transformOrigin}var overlay_ref=__webpack_require__("./packages/angular/overlay/src/services/overlay-ref.ts");let OverlayComponent=class OverlayComponent{constructor(){this.injector=(0,core.inject)(core.Injector),this.overlayRef=(0,core.inject)(overlay_ref.y),this.hostClass=["cck-overlay",...this.overlayRef.config.panelClass],this.disableAnimation="auto"===this.overlayRef.config.positionStrategy.type&&this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.None,this.closeAnimationDoneSubject$=new src.qM,this.closeAnimationDone$=this.closeAnimationDoneSubject$.asObservable(),this.OverlayAnimationType=overlay_config_model.$,this.animationState={value:!0},this.contentWrapper=core.viewChild.required("contentWrapper"),this.contentViewContainerRef=core.viewChild.required("contentViewContainerRef",{read:core.ViewContainerRef})}get isTopAlignment(){return"auto"===this.overlayRef.config.positionStrategy.type&&(this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToTopCenter||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToTopLeft||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToTopRight)}get isRightAlignment(){return"auto"===this.overlayRef.config.positionStrategy.type&&(this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToRightCenter||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToTopRight||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToBottomRight)}get isBottomAlignment(){return"auto"===this.overlayRef.config.positionStrategy.type&&(this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToBottomCenter||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToBottomRight||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToBottomLeft)}get isLeftAlignment(){return"auto"===this.overlayRef.config.positionStrategy.type&&(this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToLeftCenter||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToTopLeft||this.overlayRef.config.positionStrategy.animationType===overlay_config_model.$.ToBottomLeft)}ngOnInit(){!function isTemplateRef(ref){return ref instanceof core.TemplateRef}(this.overlayRef.componentOrTemplate)?this.contentViewContainerRef().createComponent(this.overlayRef.componentOrTemplate):this.contentViewContainerRef().createEmbeddedView(this.overlayRef.componentOrTemplate,{},{injector:this.injector}),"connectToElement"===this.overlayRef.config.positionStrategy.type&&setConnectedToElemAnimationStyle(this.contentWrapper().nativeElement,this.overlayRef.config.positionStrategy.origin)}onBackdropClick(){var _this=this;return(0,asyncToGenerator.A)((function*(){_this.overlayRef.config.disableBackdropClose||_this.overlayRef.close()}))()}onBackdropAnimationDone(event){var _this2=this;return(0,asyncToGenerator.A)((function*(){if("void"===event.toState){const dialogResult=yield function firstValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var subscriber=new Subscriber.Ms({next:function(value){resolve(value),subscriber.unsubscribe()},error:reject,complete:function(){hasConfig?resolve(config.defaultValue):reject(new EmptyError.G)}});source.subscribe(subscriber)}))}(_this2.overlayRef.close$);_this2.closeAnimationDoneSubject$.next(dialogResult)}}))()}onBackdropAnimationStart(event){if("void"!==event.fromState)return;const contentWrapperElem=this.contentWrapper().nativeElement,transformStart=getAnimationStart(contentWrapperElem,this.overlayRef.config),transformEnd=getAnimationEnd(contentWrapperElem,this.overlayRef.config);contentWrapperElem.style.transform=transformStart,(0,src.gn)(contentWrapperElem,"transitionend",(0,asyncToGenerator.A)((function*(){contentWrapperElem.style.transition=""}))),requestAnimationFrame((()=>{contentWrapperElem.style.transition="transform 200ms",contentWrapperElem.style.transform=transformEnd})),this.animationState={value:!0,params:{transformStart,transformEnd}}}static#_=this.propDecorators={contentWrapper:[{type:core.ViewChild,args:["contentWrapper",{isSignal:!0}]}],contentViewContainerRef:[{type:core.ViewChild,args:["contentViewContainerRef",{read:core.ViewContainerRef,isSignal:!0}]}]}};OverlayComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,imports:[],selector:"cck-overlay",template:'\x3c!-- BACKDROP --\x3e\n@if(overlayRef.config.hasBackdrop) {\n  <div [@overlayAnimBackdrop]="animationState" class="cck-overlay__backdrop" (click)="onBackdropClick()"></div>\n}\n\n\x3c!-- CONTENT --\x3e\n<div\n  #contentWrapper\n  [@overlayAnimContent]="animationState"\n  class="cck-overlay__content-wrapper"\n\n  [style.width]="overlayRef.config.size?.width"\n  [style.min-width]="overlayRef.config.size?.minWidth"\n  [style.max-width]="overlayRef.config.size?.maxWidth"\n\n  [style.height]="overlayRef.config.size?.height"\n  [style.min-height]="overlayRef.config.size?.minHeight"\n  [style.max-height]="overlayRef.config.size?.maxHeight"\n>\n  <ng-container #contentViewContainerRef></ng-container>\n</div>',changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.None,animations:[overlayAnimation.backdrop(),overlayAnimation.content(),overlayAnimation.overlay()],host:{"[class]":"hostClass","[class.cck-overlay--top-alignment]":"isTopAlignment","[class.cck-overlay--right-alignment]":"isRightAlignment","[class.cck-overlay--bottom-alignment]":"isBottomAlignment","[class.cck-overlay--left-alignment]":"isLeftAlignment","[@overlayAnim]":"animationState","(@overlayAnim.done)":"onBackdropAnimationDone($event)","(@overlayAnim.start)":"onBackdropAnimationStart($event)","[@.disabled]":"disableAnimation"},styles:[overlay_componentngResource_default()]})],OverlayComponent)},"./packages/angular/overlay/src/models/overlay-config.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var OverlayConnectElemOrigin,OverlayAnimationType;__webpack_require__.d(__webpack_exports__,{$:()=>OverlayAnimationType,C:()=>OverlayConnectElemOrigin}),function(OverlayConnectElemOrigin){OverlayConnectElemOrigin.TopLeft="top-left",OverlayConnectElemOrigin.TopRight="top-right",OverlayConnectElemOrigin.BottomRight="bottom-right",OverlayConnectElemOrigin.BottomLeft="bottom-left"}(OverlayConnectElemOrigin||(OverlayConnectElemOrigin={})),function(OverlayAnimationType){OverlayAnimationType.None="none",OverlayAnimationType.TopToCenter="top-to-center",OverlayAnimationType.RightToCenter="right-to-center",OverlayAnimationType.BottomToCenter="bottom-to-center",OverlayAnimationType.LeftToCenter="left-to-center",OverlayAnimationType.ToTopLeft="to-top-left",OverlayAnimationType.ToTopRight="to-top-right",OverlayAnimationType.ToBottomLeft="to-bottom-left",OverlayAnimationType.ToBottomRight="to-bottom-right",OverlayAnimationType.ToTopCenter="to-top-center",OverlayAnimationType.ToRightCenter="to-right-center",OverlayAnimationType.ToBottomCenter="to-bottom-center",OverlayAnimationType.ToLeftCenter="to-left-center"}(OverlayAnimationType||(OverlayAnimationType={}))},"./packages/angular/overlay/src/services/overlay-ref.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>OverlayRef});var _cocokits_common_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/common/utils/src/index.ts");class OverlayRef{get data(){return this.config.data}constructor(componentOrTemplate,config){this.componentOrTemplate=componentOrTemplate,this.config=config,this.closeReplaySubject$=new _cocokits_common_utils__WEBPACK_IMPORTED_MODULE_0__.r7,this.close$=this.closeReplaySubject$.asObservable()}close(result){this.closeReplaySubject$.next(result)}}},"./packages/angular/overlay/src/services/overlay.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>OverlayService});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@angular+core@18.2.0_rxjs@7.8.1_zone.js@0.14.10/node_modules/@angular/core/fesm2022/core.mjs"),_overlay_ref__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/angular/overlay/src/services/overlay-ref.ts"),_components_overlay_overlay_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/overlay/src/components/overlay/overlay.component.ts");const DEFAULT_CONFIG={panelClass:[],hasBackdrop:!0,disableBackdropClose:!1,positionStrategy:{type:"auto",animationType:__webpack_require__("./packages/angular/overlay/src/models/overlay-config.model.ts").$.BottomToCenter},data:null};let OverlayService=class OverlayService{constructor(){this.applicationRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef)}open(componentOrTemplate,partialConfig={}){const config={...DEFAULT_CONFIG,...partialConfig},rootComponentRef=this.applicationRef.components[0],viewContainerRef=config.viewContainerRef||rootComponentRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef),overlayRef=new _overlay_ref__WEBPACK_IMPORTED_MODULE_2__.y(componentOrTemplate,config),providers=[{provide:_overlay_ref__WEBPACK_IMPORTED_MODULE_2__.y,useValue:overlayRef}],overlayComponentRef=viewContainerRef.createComponent(_components_overlay_overlay_component__WEBPACK_IMPORTED_MODULE_3__.Q,{injector:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({providers})});return{overlayComponentRef,viewContainerRef,overlayRef,afterClose:this.closeHandler(overlayRef,viewContainerRef,overlayComponentRef)}}closeHandler(overlayRef,viewContainerRef,overlayComponentRef){return new Promise((resolve=>{overlayRef.close$.subscribe((()=>{const indexView=viewContainerRef.indexOf(overlayComponentRef.hostView);viewContainerRef.remove(indexView)})),overlayComponentRef.instance.closeAnimationDone$.subscribe((dialogResult=>{resolve(dialogResult)}))}))}};OverlayService=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"})],OverlayService)},"./packages/angular/overlay/src/components/overlay/overlay.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_webpack@5.93.0_@swc+core@1.3.107_@swc+helpers@0.5.13__esbuild@0.23.0_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_webpack@5.93.0_@swc+core@1.3.107_@swc+helpers@0.5.13__esbuild@0.23.0_/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".cck-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  perspective: 1000px;\n}\n\n.cck-overlay--top-alignment {\n  align-items: flex-start;\n}\n\n.cck-overlay--right-alignment {\n  justify-content: flex-end;\n}\n\n.cck-overlay--bottom-alignment {\n  align-items: flex-end;\n}\n\n.cck-overlay--left-alignment {\n  justify-content: flex-start;\n}\n\n.cck-overlay__backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n}\n\n.cck-overlay__content-wrapper {\n  position: relative;\n  top: 0;\n  left: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);