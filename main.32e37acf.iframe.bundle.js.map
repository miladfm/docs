{"version":3,"file":"main.32e37acf.iframe.bundle.js","mappings":";;AAcA;;;;;;;;;;AAWA;;;;;;;;AASA;;;;;;;;;;;;;;;;AAiBA;;;;AAKA;;;;;;;ACNA;;;;;;;;;;;;;;AC7CA;;;;;;;;AA4BA;;;;;;;;;;;;;;;;AAiBA;;;;;;;;;;AAUA;;;;;;;;;;;;;;;;;;AChDA;;;;;AA2BA;;;;;;;;;;;;;;;;;;;;;;;ACpBA;;;;;AAMA;;;;;;;AAQA;;;;;;;;;;;AAYA;;;;;AAMA;;AAGA;;;;;;;;;;;;;;;;;ACjCA;;ACjBA;;;;AAWA","sources":["webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocArgTypesTable.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocArgTypes.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocToc.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/AutoDocMain.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocBgEffect.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocHeader.tsx","webpack://cocokits/./packages/internal/storybook-doc-page/src/lib/components/doc-page/DocPage.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport styled from 'styled-components';\nimport { DocMarkdown } from './DocMarkdown';\nexport const DocArgTypesTable = ({ argTypesList, hideDefault = false, header }) => {\n    if (argTypesList.length === 0) {\n        return;\n    }\n    return (_jsxs(_Fragment, { children: [header && _jsx(StyledH4, { children: header }), _jsxs(StyledTable, { children: [_jsx(\"thead\", { children: _jsxs(\"tr\", { children: [_jsx(StyledTh, { children: \"Name\" }), _jsx(StyledTh, { children: \"Type\" }), _jsx(StyledTh, { children: \"Description\" }), !hideDefault && _jsx(StyledTh, { children: \"Default\" })] }) }), _jsx(\"tbody\", { children: argTypesList.map(argType => (_jsxs(StyledTr, { children: [_jsx(StyledTd, { children: argType.name }), _jsx(StyledTd, { children: _jsx(StyledTypeWrapper, { children: argType.type.map(type => _jsx(\"code\", { children: type?.toString() })) }) }), _jsx(StyledTd, { children: argType.description && _jsx(DocMarkdown, { children: argType.description }) }), !hideDefault &&\n                                    _jsx(StyledTd, { children: argType.defaultValue !== null && _jsx(\"code\", { children: argType.defaultValue?.toString() }) })] }, argType.name))) })] })] }));\n};\n// region ---------------- STYLES ----------------\nconst StyledH4 = styled.h4 `\n  margin-top: 24px;\n`;\nconst StyledTable = styled.table `\n    min-width: 100%;\n    border: var(--cck-storybook-size-1) solid var(--cck-storybook-color-bg-body-inverse-alpha-5);\n    border-radius: var(--cck-storybook-size-6);\n    border-spacing: 0;\n\n    & p {\n        color: inherit;\n        font: inherit;\n    }\n`;\nconst StyledTr = styled.tr `\n    font: var(--cck-storybook-text-sm-medium);\n    color: var(--cck-storybook-color-font-contrast-4);\n    padding: var(--cck-storybook-size-12) var(--cck-storybook-size-24);\n\n    &:nth-child(even) {\n        background-color: var(--cck-storybook-color-bg-table-even);\n    }\n`;\nconst StyledTd = styled.td `\n    font: var(--cck-storybook-text-sm-regular);\n    color: var(--cck-storybook-color-font-contrast-2);\n    padding: var(--cck-storybook-size-12) var(--cck-storybook-size-24);\n    border-top: var(--cck-storybook-size-1) solid var(--cck-storybook-color-border-alpha-default);\n\n    &:first-child {\n        font: var(--cck-storybook-text-sm-medium);\n        color: var(--cck-storybook-color-font-contrast-4);\n    }\n\n    & code {\n        white-space: nowrap;\n        font: var(--cck-storybook-text-xs-regular);\n        padding: var(--cck-storybook-size-0) var(--cck-storybook-size-6);\n    }\n`;\nconst StyledTh = styled.th `\n    font: var(--cck-storybook-text-sm-medium);\n    color: var(--cck-storybook-color-font-contrast-4);\n    padding: var(--cck-storybook-size-12) var(--cck-storybook-size-24);\n`;\nconst StyledTypeWrapper = styled.div `\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n`;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useOf } from '@storybook/addon-docs';\nimport * as _ from 'lodash';\nimport { useContext } from 'react';\nimport styled from 'styled-components';\nimport { DocArgTypesTable } from './DocArgTypesTable';\nimport { useArgTypesApiList, useArgTypesThemeApiList } from '../../utils/doc-page.utils';\nimport { DocsPageContext } from '../doc-page-container/DocPageContainer';\nexport function DocArgTypes({ cckTheme }) {\n    const resolved = useOf('meta');\n    if (resolved.type !== 'meta') {\n        return;\n    }\n    const { title } = useContext(DocsPageContext);\n    const { argTypes, subcomponents } = resolved.preparedMeta;\n    const primaryComponentName = _.camelCase(title);\n    const hasSubcomponents = !!subcomponents && Object.keys(subcomponents).length > 0;\n    return (_jsxs(_Fragment, { children: [_jsx(DocArgType, { componentName: primaryComponentName, argTypes: argTypes, cckTheme: cckTheme, hideComponentName: false }), hasSubcomponents &&\n                Object.values(subcomponents).map((subcomponent) => {\n                    const isComponentRef = typeof subcomponent === 'function' && !!subcomponent.prototype && subcomponent.prototype.constructor === subcomponent;\n                    if (!isComponentRef) {\n                        return;\n                    }\n                    const componentRef = subcomponent;\n                    const componentName = componentRef.name.replace(/component$/i, '');\n                    // Private component such as '_UiBaseComponent'\n                    if (componentName.startsWith('_')) {\n                        return;\n                    }\n                    const subcomponentTypes = resolved.preparedMeta.parameters['docs'].extractArgTypes(componentRef);\n                    return (_jsx(DocArgType, { componentName: componentName, argTypes: subcomponentTypes, cckTheme: cckTheme, hideComponentName: false }, subcomponent.toString()));\n                })] }));\n}\nexport function DocArgType({ componentName, argTypes, cckTheme, hideComponentName }) {\n    const apiArgTypeList = useArgTypesApiList(componentName, argTypes, cckTheme.uiComponentConfig);\n    const themeApiArgTypeList = useArgTypesThemeApiList(componentName, cckTheme.uiComponentConfig);\n    const isApiListEmpty = apiArgTypeList.props.length === 0 &&\n        apiArgTypeList.methods.length === 0 &&\n        apiArgTypeList.events.length === 0;\n    const isThemApiListEmpty = themeApiArgTypeList ? themeApiArgTypeList?.length === 0 : true;\n    if (isApiListEmpty && isThemApiListEmpty) {\n        return (_jsxs(_Fragment, { children: [_jsx(StyledSpacer, {}), !hideComponentName && _jsxs(\"h3\", { children: [_.capitalize(componentName), \" Component API\"] }), _jsx(StyledText, { children: \"This components has no API configuration\" })] }));\n    }\n    return (_jsxs(_Fragment, { children: [_jsx(StyledSpacer, {}), !hideComponentName && _jsxs(\"h3\", { children: [_.capitalize(componentName), \" Component API\"] }), _jsx(DocArgTypesTable, { argTypesList: apiArgTypeList.props, header: 'Props' }), _jsx(DocArgTypesTable, { argTypesList: apiArgTypeList.events, header: 'Events', hideDefault: true }), _jsx(DocArgTypesTable, { argTypesList: apiArgTypeList.methods, header: 'methods', hideDefault: true }), themeApiArgTypeList && themeApiArgTypeList.length > 0 &&\n                _jsxs(_Fragment, { children: [_jsx(StyledSpacer, {}), !hideComponentName && _jsxs(\"h3\", { children: [_.capitalize(componentName), \" \", cckTheme.name, \" Theme API\"] }), _jsx(DocArgTypesTable, { argTypesList: themeApiArgTypeList })] })] }));\n}\nconst StyledSpacer = styled.div `\n    height: 1px;\n    margin-top: 48px;\n`;\nconst StyledText = styled.div `\n    font: var(--cck-storybook-text-sm-regular);\n    color: var(--cck-storybook-color-font-contrast-2);\n`;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { intersectionObserver$ } from '@cocokits/common-utils';\nimport { scrollToStoryById } from './doc-page.util';\nexport const DocToc = ({ items }) => {\n    const [selected, setSelected] = useState('');\n    useEffect(() => {\n        const itemsElement = items\n            .flatMap(item => document.querySelector(`#${item.id}`) ?? []);\n        const subscriber = intersectionObserver$(itemsElement, { threshold: [0.5] })\n            .subscribe(event => {\n            for (const { intersectionRatio, target } of event.entries) {\n                if (intersectionRatio >= 0.5) {\n                    setSelected(target.id);\n                    return;\n                }\n            }\n        });\n        return () => subscriber.unsubscribe();\n    }, []);\n    return (_jsxs(StyledContainer, { children: [_jsx(\"h5\", { children: \"On this page\" }), _jsx(StyledOl, { children: items.map(item => (_jsx(StyledLi, { selected: item.id === selected, onClick: () => scrollToStoryById(item.id), children: item.name }, item.id))) })] }));\n};\n// region ---------------- STYLES ----------------\nconst StyledContainer = styled.div `\n    width: var();\n    height: 100%;\n    position: sticky;\n    flex-shrink: 0;\n    top: var(--cck-storybook-size-80);\n    margin-top: var(--cck-storybook-size-96);\n    margin-left: var(--cck-storybook-size-64);\n`;\nconst StyledOl = styled.ol `\n    position: relative;\n    list-style-type: none;\n    margin-left: 0;\n    margin-top: 0;\n    padding-inline-start: var(--cck-storybook-size-20);\n\n    &:before {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        height: 100%;\n        width: var(--cck-storybook-size-4);\n        background-color: var(--cck-storybook-color-bg-body-inverse-alpha-4);\n        border-radius: var(--cck-storybook-size-4);\n    }\n`;\nconst StyledLi = styled.li `\n    text-decoration-line: none;\n    font: var(--cck-storybook-text-sm-regular);\n    color: var(--cck-storybook-color-font-contrast-2);\n    cursor: pointer;\n\n    &:hover {\n        color: var(--cck-storybook-color-font-contrast-4);\n    }\n\n    ${props => props.selected && css `\n        position: relative;\n        color: var(--cck-storybook-color-brand-default);\n\n        &:after {\n            content: '';\n            position: absolute;\n            left: calc(-1 * var(--cck-storybook-size-20));\n            top: 0;\n            bottom: 0;\n            width: var(--cck-storybook-size-4);\n            background-color: var(--cck-storybook-color-brand-default);\n            border-radius: var(--cck-storybook-size-4);\n        }\n        &:hover {\n            color: var(--cck-storybook-color-brand-default);\n        }\n    `},\n`;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Canvas } from '@storybook/addon-docs';\nimport { useContext } from 'react';\nimport styled from 'styled-components';\nimport { useDocSelectedCckTheme } from '@cocokits/storybook-theme-switcher';\nimport { DocArgTypes } from './DocArgTypes';\nimport { DocCategory } from './DocCategory';\nimport { DocMarkdown } from './DocMarkdown';\nimport { DocSection } from './DocSection';\nimport { DocToc } from './DocToc';\nimport { filterStoryByScenario, filterStoryByThemeTag, getApiDescription } from '../../utils/doc-page.utils';\nimport { DocsPageContext } from '../doc-page-container/DocPageContainer';\nexport function AutoDocMain() {\n    const { title, metaDescription, category, primaryStory, stories } = useContext(DocsPageContext);\n    const cckTheme = useDocSelectedCckTheme();\n    if (!cckTheme) {\n        return;\n    }\n    const tokItems = stories\n        .filter(story => filterStoryByThemeTag(story, cckTheme.id))\n        .map(story => ({\n        id: story.id, name: story.name.replace(/^(theme|Theme) [^:]+: /, '') // Replace 'Theme XXX: AAA' to 'AAA'\n    }));\n    const API_SECTION = { id: `${primaryStory.componentId}--api`, name: 'API' };\n    tokItems.push(API_SECTION);\n    return (_jsxs(StyledWrapper, { children: [_jsxs(StyledMain, { children: [_jsxs(\"div\", { children: [_jsx(DocCategory, { children: category }), _jsx(\"h1\", { children: title }), _jsx(DocMarkdown, { children: metaDescription })] }), stories\n                        .filter(story => filterStoryByThemeTag(story, cckTheme.id))\n                        .filter(story => filterStoryByScenario(story, cckTheme))\n                        .map((story) => {\n                        return (_jsx(DocSection, { id: story.id, title: story.name, description: story.parameters['docs']?.description?.story, children: _jsx(Canvas, { of: story.moduleExport, withToolbar: false }) }, story.id));\n                    }), _jsx(\"hr\", {}), _jsx(DocSection, { id: API_SECTION.id, title: API_SECTION.name, description: getApiDescription(cckTheme.name), children: _jsx(DocArgTypes, { cckTheme: cckTheme }) })] }), _jsx(DocToc, { items: tokItems })] }));\n}\n// region ---------------- STYLES ----------------\nconst StyledWrapper = styled.div `\n    display: flex;\n    position: relative;\n    width: 100%;\n    margin: auto;\n`;\nconst StyledMain = styled.main `\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    padding: var(--cck-storybook-size-64) var(--cck-storybook-size-32) var(--cck-storybook-size-128) var(--cck-storybook-size-32);\n    margin: 0 auto;\n    z-index: 1;\n`;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styled from 'styled-components';\nexport function DocBgEffect() {\n    return (_jsxs(Wrapper, { children: [_jsx(BrandGradiant, {}), _jsxs(BoxWrapper, { children: [_jsx(Box, {}), _jsx(Box, {}), _jsx(Box, {}), _jsx(Box, {})] }), _jsx(SharkEffect, { children: _jsx(SharkEffectImg, { src: \"/doc-page-header-effect-shark.png\" }) }), _jsx(Overlay, {})] }));\n}\n// region ---------------- STYLES ----------------\nconst Wrapper = styled.div `\n    height: var(--cck-storybook-size-480);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n    position: absolute;\n    left: var(--cck-storybook-size-0);\n    right: var(--cck-storybook-size-0);\n    top: var(--cck-storybook-size-0);\n\n    overflow: hidden;\n`;\nconst BrandGradiant = styled.div `\n    background: var(--cck-storybook-effect-gradient-doc-page-header-brand);\n    height: 100%;\n    position: absolute;\n    width: 100%;\n`;\nconst BoxWrapper = styled.div `\n    position: absolute;\n    display: flex;\n    align-items: baseline;\n    gap: var(--cck-storybook-size-24);\n    height: 100%;\n    width: var(--cck-storybook-size-1280);\n`;\nconst Box = styled.div `\n    width: 25%;\n    aspect-ratio: 1 / 1;\n    flex: 1;\n    \n    border-width: 0 var(--cck-storybook-size-1) 0 var(--cck-storybook-size-1);\n    border-style: solid;\n    border-color: var(--cck-storybook-color-border-alpha-4);\n    border-radius: var(--cck-storybook-size-24);\n    background: var(--cck-storybook-effect-gradient-doc-page-header-box);\n    transform: rotate(45deg);\n`;\nconst SharkEffect = styled.div `\n    position: absolute;\n    inset: calc(-1 * var(--cck-storybook-size-28)) calc(-1 * var(--cck-storybook-size-24));;\n    opacity: 0.2;\n    z-index: 0;\n`;\nconst SharkEffectImg = styled.img `\n    width: 100%;\n`;\nconst Overlay = styled.div `\n    background: var(--cck-storybook-effect-gradient-doc-page-header-overlay);\n    inset: -5px -18px -20px;\n    position: absolute;\n`;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styled from 'styled-components';\nimport { DocCckStorybookThemeSwitcher, DocCckThemeSwitcher } from '@cocokits/storybook-theme-switcher';\nexport const DocHeader = ({ hideCckThemeSwitcher = false }) => {\n    return (_jsxs(Nav, { children: [!hideCckThemeSwitcher && _jsx(DocCckThemeSwitcher, {}), _jsx(FlexSpacer, {}), _jsx(DocCckStorybookThemeSwitcher, {})] }));\n};\n// region ---------------- STYLES ----------------\nconst Nav = styled.nav `\n    width: 100%;\n    height: var(--cck-storybook-size-64);\n    display: flex;\n    align-items: center;\n    position: sticky;\n    top: var(--cck-storybook-size-0);\n    z-index: 10;\n    padding: var(--cck-storybook-size-0) var(--cck-storybook-size-24);\n    background-color: var(--cck-storybook-color-bg-body-alpha-6);\n    backdrop-filter: blur(var(--cck-storybook-blur-4));\n    -webkit-backdrop-filter: blur(var(--cck-storybook-blur-4)); // Safari \n    border-bottom: 1px solid var(--cck-storybook-color-brand-alpha-5);\n`;\nconst FlexSpacer = styled.div `\n  flex: 1;\n`;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styled from 'styled-components';\nimport { DocBgEffect } from './DocBgEffect';\nimport { DocHeader } from './DocHeader';\nexport const DocPage = ({ children, hideCckThemeSwitcher = false }) => {\n    return (\n    // sb-unstyled: Remove default storybook styles\n    _jsxs(StyledWrapper, { className: \"sb-unstyled\", children: [_jsx(DocBgEffect, {}), _jsx(DocHeader, { hideCckThemeSwitcher: hideCckThemeSwitcher }), _jsx(StyledContentWrapper, { children: children })] }));\n};\n// region ---------------- STYLES ----------------\nexport const StyledWrapper = styled.div `\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\nconst StyledContentWrapper = styled.div `\n    display: flex;\n    position: relative;\n    width: 100%;\n    max-width: var(--cck-storybook-size-1280);\n    margin: auto;\n`;\n"],"names":[],"sourceRoot":""}